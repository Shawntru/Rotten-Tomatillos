{"version":3,"sources":["MovieCard/MovieCard.js","Movies/Movies.js","Navbar/Navbar.js","assets/tomato.png","ErrorPage/ErrorPage.js","MoviePreview/MoviePreview.js","assets/cancel_button.png","apiCalls.js","TrailerPreview/TrailerPreview.js","App/App.js","reportWebVitals.js","index.js"],"names":["MovieCard","props","to","id","data-testid","className","src","posterPath","alt","title","Movies","movieCards","createCard","movie","poster_path","filteredMovies","map","moviesInfo","Navbar","onSubmit","e","preventDefault","htmlFor","type","name","placeholder","onChange","handleChangeFunction","autoComplete","aria-label","ErrorPage","errorMessage","tomato","MoviePreview","componentDidMount","movieId","updateMovieObjectState","updateMovieTrailerState","findTrailerKey","data","video","videos","find","site","key","state","movieObject","movieTrailer","this","getMovieVideoData","then","setState","catch","error","getSingleMovieData","number","toString","replace","backdrop_path","release_date","overview","genres","budget","revenue","tagline","average_rating","runtime","style","backgroundImage","toFixed","switchNumToCurrency","join","url","controls","config","youtube","playerVars","modestbranding","Component","getAllMovieData","a","fetch","response","parseInt","status","json","TrailerPreview","trailerInfo","fetchMovieVideos","componentDidUpdate","prevProps","width","height","muted","playing","loop","disablekb","fs","iv_load_policy","playlist","App","updateMovieDisplays","movies","handleChange","event","search","target","value","newMovieList","homePageMovies","filter","movieTitle","toLowerCase","userTitle","includes","moviesToDisplay","trailerMovieIndex","Math","floor","random","length","updateTrailerMovie","trailerMovie","render","undefined","exact","path","match","params","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","basename","document","getElementById"],"mappings":"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","file":"static/js/main.168026bb.chunk.js","sourcesContent":["import React from 'react';\nimport './MovieCard.scss';\nimport { Link } from 'react-router-dom';\n\nconst MovieCard = (props) => {\n  return (\n    <Link to={`/movie/${props.id}`}>\n      <section\n        data-testid={`moviecard-element-${props.id}`}\n        className=\"movie-card\"\n      >\n        <img\n          className=\"homepage-img\"\n          src={props.posterPath}\n          alt={props.title}\n        />\n        <h3 className=\"movie-card-title\">{props.title}</h3>\n      </section>\n    </Link>\n  );\n};\n\nexport default MovieCard;\n","import React from 'react';\nimport MovieCard from '../MovieCard/MovieCard';\nimport './Movies.scss';\n\nconst Movies = (props) => {\n  let movieCards = [];\n\n  function createCard(movie) {\n    return (\n      <MovieCard\n        title={movie.title}\n        posterPath={movie.poster_path}\n        id={movie.id}\n        key={movie.id}\n      />\n    );\n  }\n\n  if (!props.filteredMovies) {\n    movieCards = props.moviesInfo.map((movie) => createCard(movie));\n  } else {\n    movieCards = props.filteredMovies.map((movie) => createCard(movie));\n  }\n\n  return (\n    <section data-testid=\"movies-element\">\n      <h2 className=\"section-heading\">Other Top Movies</h2>\n      <div className=\"movies-list\">{movieCards}</div>\n    </section>\n  );\n};\n\nexport default Movies;\n","import React from 'react';\nimport './Navbar.scss';\n\nconst Navbar = (props) => {\n  return (\n    <nav data-testid=\"navbar-element\" className=\"navbar\">\n      <h1 className=\"site-title\">Rancid Tomatillos</h1>\n      <form className=\"search-wrapper\" onSubmit={e => { e.preventDefault(); }}>\n        <label\n          data-testid=\"search-label\"\n          className=\"label-title\"\n          htmlFor=\"search\"\n        ></label>\n        <input\n          className=\"input-box\"\n          id=\"search\"\n          type=\"search\"\n          name=\"search\"\n          placeholder=\"search a title...\"\n          onChange={props.handleChangeFunction}\n          autoComplete=\"off\"\n          aria-label=\"Search through site content\"\n        />\n      </form>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","export default __webpack_public_path__ + \"static/media/tomato.6b1264e0.png\";","import React from 'react';\nimport './ErrorPage.scss';\nimport tomato from '../assets/tomato.png'\n\nconst ErrorPage = ({ errorMessage }) => {\n  return (\n    <section data-testid='error-page-element' className=\"error-page app\">\n      <img className='error-tomato' src={tomato} alt='tomato'/>\n      <h1 className='error-header'>Oops! {errorMessage}</h1>\n      <h3 className='error-text'>Something went wrong. Our servers need some time to ketchup!</h3>\n    </section>\n  )\n}\n\nexport default ErrorPage;","import React, { Component } from 'react';\nimport './MoviePreview.scss';\nimport ReactPlayer from 'react-player/youtube';\nimport { Link } from 'react-router-dom';\nimport cancel_button from '../assets/cancel_button.png';\n\nclass MoviePreview extends Component {\n  constructor() {\n    super();\n    this.state = {\n      movieObject: null,\n      movieTrailer: '',\n    };\n  }\n  componentDidMount = () => {\n    let movieId = this.props.movieId;\n    this.updateMovieObjectState(movieId);\n    this.updateMovieTrailerState(movieId);\n  };\n\n  findTrailerKey = (data) => {\n    let video = data.videos.find(\n      (video) => video.type === 'Trailer' && video.site === 'YouTube'\n    );\n    return !!video ? video.key : '';\n  };\n\n  updateMovieTrailerState(movieId) {\n    this.props\n      .getMovieVideoData(movieId)\n      .then((data) =>\n        this.setState({\n          movieTrailer: this.findTrailerKey(data),\n        })\n      )\n      .catch((error) => this.setState({ error }));\n  }\n\n  updateMovieObjectState(movieId) {\n    this.props\n      .getSingleMovieData(movieId)\n      .then((data) =>\n        this.setState({\n          movieObject: data.movie,\n        })\n      )\n      .catch((error) => this.setState({ error }));\n  }\n\n  switchNumToCurrency(number) {\n    return '$' + number.toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, '$1,');\n  }\n\n  render() {\n    if (!this.state.movieObject) {\n      return (\n        <h3 className=\"error-message app\">\n          We apologize, we couldn't find a match for this movie ID\n        </h3>\n      );\n    }\n\n    const {\n      backdrop_path,\n      poster_path,\n      title,\n      release_date,\n      overview,\n      genres,\n      budget,\n      revenue,\n      tagline,\n      average_rating,\n      runtime,\n    } = this.state.movieObject;\n\n    return (\n      <section\n        data-testid=\"movie-preview-page\"\n        className=\"movie-preview-page \"\n        style={{ backgroundImage: `url(${backdrop_path})` }}\n      >\n        <div className=\"preview-wrapper\">\n          <div className=\"description-wrapper\">\n            <img className=\"movie-preview-img\" src={poster_path} alt={title} />\n            <div className=\"movie-description\">\n              <h3 className=\"movie-preview-title\">{title}</h3>\n              <p className=\"movie-info-detail\">{tagline}</p>\n              <p className=\"movie-info-detail\">\n                Rating: {average_rating.toFixed(1)}\n              </p>\n              <p className=\"movie-info-detail\">Release Date: {release_date}</p>\n              <p className=\"movie-info-detail\">Runtime: {runtime} minutes</p>\n              <p className=\"movie-info-detail\">\n                Budget: {this.switchNumToCurrency(budget)}\n              </p>\n              <p className=\"movie-info-detail\">\n                Revenue: {this.switchNumToCurrency(revenue)}\n              </p>\n              <p className=\"movie-info-detail\">Genre: {genres.join(', ')}</p>\n              <p className=\"movie-info-detail\">Overview: {overview}</p>\n            </div>\n            <Link to=\"/\">\n              <button\n                data-testid=\"closing-button-element\"\n                className=\"movie-preview-button\"\n              >\n                <img src={cancel_button} alt=\"close preview button\" />\n              </button>\n            </Link>\n          </div>{' '}\n          {this.state.movieTrailer && (\n            <div className=\"movie-preview-trailer-section\">\n              <h3 className=\"trailer-header\">{`${title} Trailer:`}</h3>\n              <ReactPlayer\n                data-testid=\"player-box\"\n                className=\"preview-react-player\"\n                url={`https:www.https://www.youtube.com/watch?v=${this.state.movieTrailer}`}\n                controls={true}\n                config={{\n                  youtube: {\n                    playerVars: {\n                      modestbranding: 1,\n                    },\n                  },\n                }}\n              />\n            </div>\n          )}\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default MoviePreview;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAABYklEQVR4Ae3XIWzCQBiG4YmKikq8mg8+OHwqEMjJyfNBICqQ+CCRFQi8QiAQlRMIBKISOVHx7xUTyyWXL/l3NRtv8jhCvpTrJbw8+y9N0eCAM27fTmixwitGrUTAHQZIH3hDgazVuMKcOsyQpQaWwYB3uCvQwjLbwtUGNgrHk1rCRjRgBtJV6MUBNU1+tkMB2Rrq99/ChKDPIVeCqMQDFsMRRHpUiF6OLnlPiebid1+oUQj4WYAliRt9B3OM8o0BVkh2gflGOcYALZLdYZ5RrjHACclMi0eJMdrNMUi8TeKgC3ck691j/KPOSNY5xwQsnKMOSLZ3jRFXgtAgWe0bA/+oKZJV+NSPNh4jR3XyQDsPZIjH6FHq+3QTPMQhNAUDjrCEK0roKMBGVkOn37gsGu//sBMssxbuysxPaoMCvy6Ig670WCJrE2yje0p5YI0Ko1Whxh4d+uiiu2CHOUo8+9t9AUcCWfVf/Xv1AAAAAElFTkSuQmCC\"","import ErrorPage from './ErrorPage/ErrorPage';\n\nexport const getAllMovieData = async () => {\n  const response = await fetch(\n    'https://rancid-tomatillos.herokuapp.com/api/v2/movies'\n  );\n  if (parseInt(response.status) > 499) {\n    return <ErrorPage />;\n  }\n  return await response.json();\n};\n\nexport const getSingleMovieData = async (id) => {\n  const response = await fetch(\n    `https://rancid-tomatillos.herokuapp.com/api/v2/movies/${id}`\n  );\n  return await response.json();\n};\n\nexport const getMovieVideoData = async (id) => {\n  const response = await fetch(\n    `https://rancid-tomatillos.herokuapp.com/api/v2/movies/${id}/videos`\n  );\n  return await response.json();\n};\n","import React, { Component } from 'react';\nimport ReactPlayer from 'react-player/youtube';\nimport { getMovieVideoData } from '../apiCalls';\nimport { Link } from 'react-router-dom';\nimport './TrailerPreview.scss';\n\nclass TrailerPreview extends Component {\n  constructor() {\n    super();\n    this.state = {\n      movieTrailer: '',\n    };\n  }\n\n  componentDidMount = () => {\n    if (this.props.trailerInfo.id) this.fetchMovieVideos();\n  };\n\n  componentDidUpdate = (prevProps) => {\n    if (this.props.trailerInfo !== prevProps.trailerInfo) {\n      this.fetchMovieVideos();\n    }\n  };\n\n  fetchMovieVideos = () => {\n    getMovieVideoData(this.props.trailerInfo.id).then((data) =>\n      this.setState({\n        movieTrailer: this.findTrailerKey(data),\n      })\n    );\n  };\n\n  findTrailerKey = (data) => {\n    let video = data.videos.find(\n      (video) => video.type === 'Trailer' && video.site === 'YouTube'\n    );\n    return !!video ? video.key : '2Gg6Seob5Mg';\n  };\n\n  render() {\n    const { title, release_date, genres, runtime } = this.props.trailerInfo;\n\n    return (\n      <section>\n        {this.state.movieTrailer && (\n          <div className=\"player-wrapper\" data-testid=\"player-wrapper\">\n            <ReactPlayer\n              data-testid={`${this.state.movieTrailer}`}\n              className=\"react-player\"\n              url={`https:www.https://www.youtube.com/watch?v=${this.state.movieTrailer}`}\n              width=\"100%\"\n              height=\"100%\"\n              controls={false}\n              muted={true}\n              playing={true}\n              loop={true}\n              config={{\n                youtube: {\n                  playerVars: {\n                    disablekb: 1,\n                    fs: 0,\n                    iv_load_policy: 3,\n                    playlist: `${this.state.movieTrailer}`,\n                    modestbranding: 1,\n                  },\n                },\n              }}\n            />\n            <Link to={`/movie/${this.props.trailerInfo.id}`}>\n              <section className=\"player-cover\"></section>\n            </Link>\n            <section className=\"trailer-info\">\n              <h2\n                className=\"trailer-movie-title\"\n                data-testid=\"trailer-movie-title\"\n              >\n                {title}\n              </h2>\n              <p className=\"trailer-details\">Released {release_date}</p>\n              <p className=\"trailer-details\">{genres.join(', ')}</p>\n              <p className=\"trailer-details\">{runtime} minutes</p>\n            </section>\n          </div>\n        )}\n      </section>\n    );\n  }\n}\n\nexport default TrailerPreview;\n","import React, { Component } from 'react';\nimport Movies from '../Movies/Movies';\nimport Navbar from '../Navbar/Navbar';\nimport ErrorPage from '../ErrorPage/ErrorPage';\nimport MoviePreview from '../MoviePreview/MoviePreview';\nimport {\n  getAllMovieData,\n  getMovieVideoData,\n  getSingleMovieData,\n} from '../apiCalls';\nimport { Route, Switch } from 'react-router-dom';\nimport TrailerPreview from '../TrailerPreview/TrailerPreview';\nimport './App.scss';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      homePageMovies: [],\n      moviesToDisplay: null,\n      trailerMovie: {},\n      error: '',\n    };\n  }\n\n  componentDidMount = () => {\n    getAllMovieData()\n      .then((data) => this.updateMovieDisplays(data.movies))\n      .catch((error) => this.setState({ error }));\n  };\n\n  handleChange = (event) => {\n    event.preventDefault();\n    this.setState({ search: event.target.value });\n    let currentMovieList = [];\n    let newMovieList = [];\n\n    if (event.target.value !== '') {\n      currentMovieList = this.state.homePageMovies;\n      newMovieList = currentMovieList.filter((movie) => {\n        const movieTitle = movie.title.toLowerCase();\n        const userTitle = event.target.value.toLowerCase();\n\n        return movieTitle.includes(userTitle);\n      });\n    } else {\n      newMovieList = this.state.homePageMovies;\n    }\n    this.setState({\n      moviesToDisplay: newMovieList,\n    });\n  };\n\n  handleError() {\n    return (\n      <Route render={() => <ErrorPage errorMessage={this.state.error} />} />\n    );\n  }\n\n  updateMovieDisplays = (data) => {\n    this.setState({ homePageMovies: data });\n    const trailerMovieIndex = Math.floor(Math.random() * data.length);\n    this.updateTrailerMovie(trailerMovieIndex);\n  };\n\n  updateTrailerMovie(trailerMovieIndex) {\n    getSingleMovieData(\n      this.state.homePageMovies[trailerMovieIndex].id\n    ).then((data) => this.setState({ trailerMovie: data.movie }));\n  }\n\n  render() {\n    if (this.state.homePageMovies === undefined) {\n      return (\n        <main className=\"app\">\n          <ErrorPage errorMessage={this.state.error} />\n        </main>\n      );\n    }\n    return (\n      <main className=\"app\">\n        <Navbar handleChangeFunction={this.handleChange} />\n        {this.state.error && <ErrorPage errorMessage={this.state.error} />}\n        {!this.state.homePageMovies.length && (\n          <h2 className=\"error-page\"> ...Loading Movies...</h2>\n        )}\n        <Switch>\n          <Route\n            exact\n            path=\"/movie/:id\"\n            render={({ match }) => (\n              <MoviePreview\n                movieId={match.params.id}\n                getSingleMovieData={getSingleMovieData}\n                getMovieVideoData={getMovieVideoData}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/\"\n            render={() => {\n              return (\n                <section>\n                  <TrailerPreview trailerInfo={this.state.trailerMovie} />\n                  <Movies\n                    moviesInfo={this.state.homePageMovies}\n                    filteredMovies={this.state.moviesToDisplay}\n                  />\n                </section>\n              );\n            }}\n          />\n          <Route render={() => <ErrorPage errorMessage={this.state.error} />} />\n        </Switch>\n      </main>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <BrowserRouter basename={'/rotten-tomatillos'}>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}